# GNU make compatible

JAVAC = javac
JAVA = java
OPT =
CLASSPATH = ../../..

.SUFFIXES= .java .class

%.class: %.java
	$(JAVAC) $(OPT) -classpath "$(CLASSPATH)" $?

SOURCES = $(wildcard *.java)
CLASSES= $(SOURCES:%.java=%.class)

# files generated by javacc or jjtree
GENFILES= python.jj \
	Node.java TokenMgrError.java Token.java ASCII_CharStream.java \
	PythonGrammar.java PythonGrammarConstants.java \
	PythonGrammarTokenManager.java PythonGrammarTreeConstants.java \
	JJTPythonGrammarState.java \
	ParseException.java


all: javacc $(CLASSES)

javacc: python.jj
	javacc python.jj

python.jj: python.jjt
	jjtree python.jjt

clean:
	-rm *.class

realclean: clean
	-rm $(GENFILES)
