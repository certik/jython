# Copyright © Corporation for National Research Initiatives
include ../../../rules/make.rules
CLASSPATH = ../../..

JJTREE = jjtree
JAVACC = javacc

# files generated by javacc or jjtree
GENSOURCES=Node.java TokenMgrError.java Token.java ASCII_CharStream.java \
	PythonGrammar.java PythonGrammarConstants.java \
	PythonGrammarTokenManager.java PythonGrammarTreeConstants.java \
	JJTPythonGrammarState.java \
	ParseException.java

SOURCES= $(wildcard *.java) $(GENSOURCES)

CLASSES= $(SOURCES:%.java=%.class)

GENFILES= python.jj $(GENSOURCES)


all: javacc $(CLASSES)

javacc: PythonGrammar.java

PythonGrammar.java: python.jj
	$(JAVACC) python.jj

python.jj: python.jjt
	$(JJTREE) python.jjt

realclean:: clean
	-rm $(GENFILES)
