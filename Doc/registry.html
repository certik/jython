<HTML>
<!-- THIS PAGE IS AUTOMATICALLY GENERATED.  DO NOT EDIT. -->
<!-- Wed Sep 22 16:33:00 1999 -->
<!-- USING HT2HTML 1.0 -->
<!-- SEE http://www.python.org/~bwarsaw/software/pyware.html -->
<!-- User-specified headers:
Title: The JPython Registry

-->

<HEAD>
<TITLE>The JPython Registry</TITLE>

</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000"
      TOPMARGIN="0" LEFTMARGIN="0" MARGINWIDTH="0" MARGINHEIGHT="0"
      LINK="#0000bb"  VLINK="#551a8b"
      ALINK="#ff0000">
<!-- start of page table -->
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<!-- start of banner row -->
<TR>
<!-- start of corner cells -->
<TD WIDTH=150 VALIGN=CENTER BGCOLOR="#cdb7b5">

<center>
    <a href="http://www.jpython.org/">
    <img border=0 src="./images/jpython-new-small.gif"></a></center> </TD>
<TD WIDTH=15 BGCOLOR="#cdb7b5">&nbsp;&nbsp;</TD><!--spacer-->
<!-- end of corner cells -->
<!-- start of banner -->
<TD WIDTH="90%" BGCOLOR="#cdb7b5">
<!-- start of site links table -->
<TABLE WIDTH="100%" BORDER=0
CELLSPACING=0 CELLPADDING=2
       COLS=2 ROWS=2 BGCOLOR="#ffffff">
<TR>
    <TD BGCOLOR="#cdb7b5">
<a href="http://www.jpython.org/">Home</a>
    </TD>
    <TD BGCOLOR="#cdb7b5">
<a href="http://www.python.org/">www.python.org</a>
    </TD>
</TR><TR>
    <TD BGCOLOR="#cdb7b5">
<a href="http://www.jpython.org/download.html">Download</a>
    </TD>
    <TD BGCOLOR="#cdb7b5">
<a href="./index.html">Documentation</a>
    </TD>
</TR>
</TABLE><!-- end of site links table -->

</TD><!-- end of banner -->
</TR><!-- end of banner row -->
<TR><!-- start of sidebar/body row -->
<!-- start of sidebar cells -->
<TD WIDTH=150 VALIGN=TOP BGCOLOR="#cdb7b5">
<!-- start of sidebar table -->
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=3
       BGCOLOR="#ffffff">
<TR><TD BGCOLOR="#660099"><B><FONT COLOR="#ffffff">
Documentation
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="./index.html">Overview</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="whatis.html">Executive Summary</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="interpreter.html">Invoking JPython</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<b>JPython Registry</b>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="embedding.html">Embedding</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="compile.html">Compiling JPython from source</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">&nbsp;
<TR><TD BGCOLOR="#660099"><B><FONT COLOR="#ffffff">
Working with Java
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="usejava.html">The Basics</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="properties.html">JavaBean Properties</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="jarray.html">Java arrays</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="subclassing.html">Subclassing</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="jpythonc.html">Building applets, servlets, beans...</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">&nbsp;
<TR><TD BGCOLOR="#660099"><B><FONT COLOR="#ffffff">
Python Docs (exits)
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="http://www.python.org/doc/tut/tut.html">Python Tutorial</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="http://www.python.org/doc/lib/lib.html">Library Reference</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">&nbsp;
<TR><TD BGCOLOR="#660099"><B><FONT COLOR="#ffffff">
Other
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="differences.html">JPython vs. CPython</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="faq.html">JPython FAQ</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="http://www.python.org/pipermail/jpython-interest/">List Archives</A> (exit)
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="http://www.python.org/workshops/1997-10/proceedings/hugunin.html">JPython paper</A> (exit)
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">&nbsp;
<TR><TD BGCOLOR="#660099"><B><FONT COLOR="#ffffff">
Email Us
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="mailto:jpython@python.org">jpython@python.org</A>
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
&nbsp;
</TD></TR>
<TR><TD BGCOLOR="#cdb7b5">
<A HREF="http://www.python.org/">
<center>
    <img border=0 src="./images/PythonPoweredSmall.gif"></center>
</A>
</TD></TR>
</TABLE><!-- end of sidebar table -->

</TD>
<TD WIDTH=15>&nbsp;&nbsp;</TD><!--spacer-->
<!-- end of sidebar cell -->
<!-- start of body cell -->
<TD VALIGN=TOP WIDTH="90%"><BR>
<h3>The JPython Registry</h3>

Because there is no good platform independent equivalent of the Windows
Registry (or Unix envrionment variables) Java has it's own environment
variable namespace.  JPython aquires it's namespace from the following
three sources (later sources override defaults found in earlier
places).

<UL>
    <LI>The Java system properties: typically passed in on the command
	line.  See the <a href="interpreter.html">-D option to the
	interpreter</a>.

    <p><li>The JPython &quot;registry&quot; file, which contains
	<b><em>prop</em>=<em>value</em></b> pairs.
	<a href="#finding">See below</a> for the
	algorithm JPython uses to find the registry file.

    <p><li>The user's personal registry file, which contains
	similarly formated prop/value pairs.  The user's registry file 
	is at &quot;<tt>user.home</tt>&quot;+&quot;/.jpython&quot;
</ul>

<h3>Registry Properties</h3>

The following properties are recognized by JPython.  There may be
others that aren't documented here; consult the comments in registry
file for details.

<dl>
    <dt><b>python.path</b>
    <dd>Equivalent to CPython's <tt>PYTHONPATH</tt> environment variable

    <dt><b>python.cachedir</b>
    <dd>The directory to use for caches - currently just package
    information.  This directory must be writable by the user.  If the 
    directory is an absolute path, it is used as given, otherwise it
    is interpreted as relative to <tt>sys.prefix</tt>.

    <dt><b>python.verbose</b>
    <dd>Sets the verbosity level for varying degrees of informative
    messages.  Valid values in order of increasing verbosity are
    "error", "warning", "message", "comment", "debug"

    <dt><b>python.security.respectJavaAccessibility</b>
    <dd>Normally, JPython can only provide access to public members of 
    classes.  However if this property is set to <tt>false</tt> and
    <em>you are using Java 1.2</em> then JPython can access non-public 
    fields, methods, and constructors.

    <dt><b>python.jpythonc.compiler</b>
    <dd>The Java compiler to use with the <tt>jpythonc</tt> tool,
    which now generates Java source code.  This should be the absolute 
    path to a Java compiler, or the name of a compiler on your
    standard PATH.

    <dt><b>python.jpythonc.classpath</b>
    <dd>Extensions to the standard <tt>java.class.path</tt> property
    for use with jpythonc.  This is useful if you use Jikes as your
    compiler.

    <dt><b>python.jpythonc.compileropts</b>
    <dd>Options to pass to the Java compiler when using jpythonc.
</dl>

<h3><a name="finding">Finding the Registry File</a></h3>

The following steps are used to find the JPython registry file, and
also to set the Python values for <tt>sys.prefix</tt>.  First a
<em>root</em> directory is calculated:

<ul>
    <li>If there is a property called
    <tt>python.home</tt>, this is used as the root directory.

    <p><li>Otherwise, the property <tt>install.root</tt> is used if it 
    exists.

    <p><li>If neither of those properties exist, then JPython searches 
    for the file "jpython.jar" on the Java classpath, as defined in
    the system property <tt>java.class.path</tt>.  The actual file
    system isn't searched, only the paths defined on the classpath
    (one of them must literally include "jpython.jar").
</ul>

Once the root directory is found, <tt>sys.prefix</tt> and
<tt>sys.exec_prefix</tt> are set to this, and <tt>sys.path</tt> has
<em>rootdir</em>/Lib appended to it.  The registry file used is then
<em>rootdir</em>/registry.

</TD><!-- end of body cell -->
</TR><!-- end of sidebar/body row -->
</TABLE><!-- end of page table -->
</BODY></HTML>
